
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud Created Successfully</title>
<!--    <link rel="stylesheet" href="/style.css">-->
<!--    <style>-->
<!--        body {-->
<!--            font-family: Arial, sans-serif;-->
<!--            margin: 0;-->
<!--            padding: 0;-->
<!--            height: 100vh;-->
<!--            background-color: #2c2f38;-->
<!--            display: flex;-->
<!--            justify-content: center;-->
<!--            align-items: center;-->
<!--            flex-direction: column;-->
<!--            color: white;-->
<!--            padding-top: 80px;-->
<!--        }-->

<!--        header {-->
<!--            background-color: #333;-->
<!--            padding: 20px;-->
<!--            display: flex;-->
<!--            align-items: center;-->
<!--            justify-content: flex-start;-->
<!--            width: 100%;-->
<!--            position: fixed;-->
<!--            top: 0;-->
<!--            left: 0;-->
<!--            z-index: 1000;-->
<!--        }-->

<!--        header a {-->
<!--            color: #007BFF;-->
<!--            text-decoration: none;-->
<!--            margin: 0 25px;-->
<!--            font-size: 24px;-->
<!--            transition: color 0.3s ease;-->
<!--        }-->

<!--        header a:hover {-->
<!--            color: #0056b3;-->
<!--        }-->

<!--        .container {-->
<!--            text-align: center;-->
<!--            padding: 30px;-->
<!--            background-color: #333;-->
<!--            border-radius: 10px;-->
<!--            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);-->
<!--            margin-top: 70px;-->
<!--            width: 60%;-->
<!--        }-->

<!--        h1 {-->
<!--            font-size: 40px;-->
<!--            margin-bottom: 20px;-->
<!--            color: #ffffff;-->
<!--        }-->

<!--        .alert {-->
<!--            font-size: 18px;-->
<!--            padding: 15px;-->
<!--            border-radius: 8px;-->
<!--            background-color: green;-->
<!--            color: white;-->
<!--            margin-bottom: 20px;-->
<!--        }-->

<!--        img {-->
<!--            width: 30%;-->
<!--            height: auto;-->
<!--            border-radius: 10px;-->
<!--            margin-top: 20px;-->
<!--            margin-bottom: 20px;-->
<!--            display: block;-->
<!--            margin-left: auto;-->
<!--            margin-right: auto;-->
<!--            transition: transform 0.3s ease;-->
<!--        }-->

<!--        img:hover {-->
<!--            transform: scale(1.3);-->
<!--        }-->

<!--        .btn {-->
<!--            padding: 15px 40px;-->
<!--            font-size: 20px;-->
<!--            background-color: #007BFF;-->
<!--            color: white;-->
<!--            border: none;-->
<!--            border-radius: 8px;-->
<!--            cursor: pointer;-->
<!--            transition: background-color 0.3s ease;-->
<!--            text-decoration: none;-->
<!--            display: inline-block;-->
<!--            margin-top: 15px;-->
<!--        }-->

<!--        .btn:hover {-->
<!--            background-color: #0056b3;-->
<!--        }-->
<!--        .form-group {-->
<!--            margin-top: 20px;-->
<!--            text-align: center;-->
<!--            width: 100%;-->
<!--            display: flex;-->
<!--            flex-direction: column;-->
<!--            align-items: center;-->
<!--        }-->



<!--        label {-->
<!--            font-size: 18px;-->
<!--            margin-right: 10px;-->
<!--        }-->

<!--        input[type="text"] {-->
<!--            width: 30%;-->
<!--            padding: 10px;-->
<!--            margin-top: 10px;-->
<!--            border-radius: 5px;-->
<!--            border: none;-->
<!--            font-size: 16px;-->
<!--            display: none;-->
<!--        }-->

<!--        .error {-->
<!--            font-size: 18px;-->
<!--            padding: 15px;-->
<!--            border-radius: 8px;-->
<!--            background-color: red;-->
<!--            color: white;-->
<!--            margin-bottom: 20px;-->
<!--        }-->
<!--        .success {-->
<!--            font-size: 18px;-->
<!--            padding: 15px;-->
<!--            border-radius: 8px;-->
<!--            background-color: green;-->
<!--            color: white;-->
<!--            margin-bottom: 20px;-->
<!--        }-->
<!--        .button-container {-->
<!--            display: flex;-->
<!--            justify-content: center;-->
<!--            margin-top: 15px;-->
<!--        }-->
<!--        .checkbox-container {-->
<!--            display: flex;-->
<!--            justify-content: center;-->
<!--            align-items: center;-->
<!--            gap: 20px;-->
<!--            margin-bottom: 15px;-->
<!--        }-->
<!--        .form-group {-->
<!--            margin-top: 10px;-->
<!--            text-align: center;-->
<!--        }-->
<!--    </style>-->
</head>
<body>

<header>
    <a href="/">Main</a>
    <a href="/create">Create</a>
    <a href="/info">Info</a>
</header>

<div class="container">
    <h2>Cloud Created Successfully</h2>
    <div class="alert">
        <p><strong>Cloud Code:</strong> <span th:text="${cloudCode}"></span></p>
    </div>
    <img src="https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExdG9hdXQ0M2dwZnlnMDFlNXkxbGlwaGRlcnRzdTMyaGhnODl3emdkdCZlcD12MV9pbnRlcm5naWZfYnlfaWQmY3Q9Zw/aWnHdXvmfMdXOZLKo8/giphy.gif" alt="Cloud Created" />

    <!-- Форма выбора метода отправки -->
    <form th:method="GET" th:action="@{/send-notification}" >
        <div class="alert error" th:if="${error}">
            <p th:text="${error}"></p>
        </div>
        <div class="alert" th:if="${success}">
            <p th:text="${success}"></p>
        </div>

        <input type="hidden" name="cloudCode" th:value="${cloudCode}">
        <div class="checkbox-container">
            <label>
                <input type="radio" name="notificationMethod" id="emailCheckbox" value="email"> Send via Email
            </label>
            <label>
                <input type="radio" name="notificationMethod" id="telegramCheckbox" value="telegram" disabled> Send via Telegram (Coming soon)
            </label>
        </div>

        <div class="form-group" id="hidden-form">
<!--            <input type="text" id="emailInput" name="email" placeholder="Enter your email" style="display: none;">-->
<!--            <input type="text" id="telegramInput" name="telegram" placeholder="Enter Telegram username" style="display: none;">-->

            <input type="text" id="emailInput" name="email" placeholder="Enter your email" disabled>
            <input type="text" id="telegramInput" name="telegram" placeholder="Enter Telegram username" disabled>
        </div>

        <div class="button-container">
            <button type="submit" id="sendButton" class="btn" style="display: none;">Send Code</button>
        </div>
    </form>

    <a href="/" class="btn">Back to Clouds List</a>
</div>
    <script>

        document.addEventListener("DOMContentLoaded", function () {
            const emailCheckbox = document.getElementById("emailCheckbox");
            const telegramCheckbox = document.getElementById("telegramCheckbox");
            const emailInput = document.getElementById("emailInput");
            const telegramInput = document.getElementById("telegramInput");
            const sendButton = document.getElementById("sendButton");

            function updateForm() {
                if (emailCheckbox.checked) {
                    emailInput.disabled = false;
                    emailInput.style.display = "block";
                    telegramInput.disabled = true;
                    telegramInput.style.display = "none";
                } else if (telegramCheckbox.checked) {
                    telegramInput.disabled = false;
                    telegramInput.style.display = "block";
                    emailInput.disabled = true;
                    emailInput.style.display = "none";
                }
                sendButton.style.display = "block";
            }
            function validateEmail() {
                const email = emailInput.value;
                const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailPattern.test(email)) {
                    alert("Please enter a valid email address.");
                    return false;
                }
                return true;
            }

            emailCheckbox.addEventListener("change", updateForm);
            telegramCheckbox.addEventListener("change", updateForm);
            sendButton.addEventListener("click", function (event) {
                if (emailCheckbox.checked && !validateEmail()) {
                    event.preventDefault();
                }
            });
            // sendButton.addEventListener("click", function (event) {)
            //     if (emailCheckbox.checked && !validateEmail()) {
            //         event.preventDefault();
            //     }
            // });
        });
    </script>
</body>
</html>